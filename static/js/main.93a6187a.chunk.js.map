{"version":3,"sources":["Sidebar/index.jsx","Main/Ticket/index.jsx","Main/index.jsx","App.js","actions/setData.js","actions/sortData.js","actions/setMaxPrice.js","actions/setMinPrice.js","reducers/data.js","reducers/sort.js","reducers/maxPrice.js","reducers/minPrice.js","reducers/index.js","store.js","index.js"],"names":["Sidebar","sortData","byMaxPrice","setMaxPrice","byMinPrice","setMinPrice","className","onClick","type","id","defaultChecked","name","htmlFor","placeholder","defaultValue","onChange","e","target","value","Ticket","flights","map","item","index","key","flight","carrier","caption","price","passengerPrices","singlePassengerTotal","amount","legs","segments","departureCity","departureAirport","uid","arrivalAirport","arrivalCity","departureDate","travelDuration","arrivalDate","Main","searchFlights","sortBy","orderBy","sortFlights","filter","filterFlights","connect","data","sort","maxPrice","minPrice","result","setData","payload","props","useEffect","axios","get","then","initialState","rootReducer","combineReducers","require","state","action","store","createStore","applyMiddleware","logger","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.93a6187a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport './Sidebar.scss'\r\nexport const Sidebar = ({ sortData, byMaxPrice, setMaxPrice, byMinPrice, setMinPrice }) => {\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <ul className=\"sidebar__sort\">\r\n                <li><h5>Сортировать</h5></li>\r\n                <li onClick={() => sortData('high-price')}><input type=\"radio\" id=\"asc\" defaultChecked name=\"sort\" /> <label htmlFor=\"asc\" > - По возрастанию цены</label></li>\r\n                <li onClick={() => sortData('low-price')}><input type=\"radio\" id=\"desc\" name=\"sort\" /> <label htmlFor=\"desc\"> - По убыванию цены</label></li>\r\n                <li onClick={() => sortData('time')}><input type=\"radio\" id=\"time\" name=\"sort\" /> <label htmlFor=\"time\"> - По времени</label></li>\r\n            </ul>\r\n            <ul className=\"sidebar__filter\">\r\n                <li><h5>Фильтровать</h5></li>\r\n                <li><input type=\"checkbox\" name=\"check\" id=\"filter-1\" /> <label htmlFor=\"filter-1\"> - без пересадок</label></li>\r\n            </ul>\r\n            <ul className=\"sidebar__price\">\r\n                <li><h5>Цена</h5></li>\r\n                <li> <label htmlFor=\"price-1\"> от</label> <input type=\"text\" name=\"price-1\" id=\"price-1\" placeholder=\"0\" defaultValue={byMinPrice} onChange={(e) => setMinPrice(e.target.value)} /></li>\r\n                <li> <label htmlFor=\"price-2\"> до</label> <input type=\"text\" name=\"price-2\" id=\"price-2\" placeholder=\"53382\" defaultValue={byMaxPrice} onChange={(e) => setMaxPrice(e.target.value)} /></li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nimport './Ticket.scss'\r\nimport { Fragment } from 'react'\r\n\r\nexport const Ticket = ({ flights }) => {\r\n    return (\r\n        <Fragment>\r\n            {\r\n                flights && flights.map((item, index) => <div className=\"ticket\" key={index}>\r\n                    <div className=\"header\">\r\n                        <span>{item.flight.carrier.caption} </span>\r\n                        <ul>\r\n                            <li><h5>{item.flight.price.passengerPrices[0].singlePassengerTotal.amount} ₽</h5></li>\r\n                            <li><small>Стоимость для одного взрослого пассажира</small></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        <span className=\"content-city\">{item.flight.legs[0].segments[0].departureCity.caption}, {item.flight.legs[0].segments[0].departureAirport.caption} ({item.flight.legs[0].segments[0].departureAirport.uid}) &#8594; {item.flight.legs[0].segments[0].arrivalAirport.caption}, {item.flight.legs[0].segments[0].arrivalCity.caption} ({item.flight.legs[0].segments[0].arrivalAirport.uid})</span>\r\n                        <hr />\r\n                        <div className=\"info\">\r\n                            <span>{item.flight.legs[0].segments[0].departureDate}</span>\r\n                            <span>&#9719; {item.flight.legs[0].segments[0].travelDuration} мин.</span>\r\n                            <span>{item.flight.legs[0].segments[0].arrivalDate}</span>\r\n                        </div>\r\n                        <span className=\"content-flight\">Рейс выполняет : {item.flight.carrier.caption}</span>\r\n                    </div>\r\n                    <button>Выбрать</button>\r\n                </div>\r\n                )\r\n            }\r\n\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './Main.scss'\r\nimport { Ticket } from './Ticket'\r\nexport const Main = ({ flights }) => {\r\n    return (\r\n        <div className=\"main\">\r\n            <Ticket flights={flights} />\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { orderBy } from \"lodash\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport \"./App.scss\";\r\nimport { Sidebar } from \"./Sidebar\";\r\nimport { Main } from \"./Main\";\r\nimport { setData } from \"./actions/setData\";\r\nimport { setMaxPrice } from \"./actions/setMaxPrice\";\r\nimport { setMinPrice } from \"./actions/setMinPrice\";\r\nimport { sortData } from \"./actions/sortData\";\r\nconst sortFlights = (flights, sortBy) => {\r\n  switch (sortBy) {\r\n    case \"high-price\":\r\n      return orderBy(flights, \"flight.price.total.amount\", \"asc\");\r\n    case \"low-price\":\r\n      return orderBy(flights, \"flight.price.total.amount\", \"desc\");\r\n    case \"time\":\r\n      return orderBy(\r\n        flights,\r\n        \"flight.legs[0].segments[0].travelDuration\",\r\n        \"asc\"\r\n      );\r\n    default:\r\n      return orderBy(flights, \"flight.price.total.amount\", \"asc\");\r\n  }\r\n};\r\nconst filterFlights = (flights, byMaxPrice, byMinPrice) => {\r\n  return (\r\n    flights &&\r\n    flights.filter((item) => {\r\n      if (byMaxPrice > 0)   {\r\n        return (\r\n          item.flight.price.passengerPrices[0].singlePassengerTotal.amount >=\r\n            byMinPrice &&\r\n          item.flight.price.passengerPrices[0].singlePassengerTotal.amount <=\r\n            byMaxPrice\r\n        );\r\n      }\r\n      return flights;\r\n    })\r\n  );\r\n};\r\nconst searchFlights = (flights, byMaxPrice, byMinPrice, sortBy) => {\r\n  return sortFlights(filterFlights(flights, byMaxPrice, byMinPrice), sortBy);\r\n};\r\nfunction App(props) {\r\n  const {\r\n    setData,\r\n    flights,\r\n    sortData,\r\n    byMaxPrice,\r\n    byMinPrice,\r\n    setMaxPrice,\r\n    setMinPrice,\r\n  } = props;\r\n  useEffect(() => {\r\n    axios.get(\"flights.json\").then(({ data }) => {\r\n      setData(data);\r\n    });\r\n  }, [setData]);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Sidebar\r\n        sortData={sortData}\r\n        byMaxPrice={byMaxPrice}\r\n        setMaxPrice={setMaxPrice}\r\n        byMinPrice={byMinPrice}\r\n        setMinPrice={setMinPrice}\r\n      />\r\n      <Main flights={flights} />\r\n    </div>\r\n  );\r\n}\r\nconst mapStateToProps = ({ data, sort, maxPrice, minPrice }) => ({\r\n  flights:\r\n    data.data &&\r\n    searchFlights(\r\n      data.data.result.flights,\r\n      maxPrice.byMaxPrice,\r\n      minPrice.byMinPrice,\r\n      sort.sortBy\r\n    ),\r\n  byMaxPrice: maxPrice.byMaxPrice,\r\n  byMinPrice: minPrice.byMinPrice,\r\n});\r\nexport default connect(mapStateToProps, {\r\n  setData,\r\n  sortData,\r\n  setMaxPrice,\r\n  setMinPrice,\r\n})(App);\r\n","export const setData = data => ({\r\n    type : 'SET_DATA',\r\n    payload : data\r\n})","export const sortData = sortBy => ({\r\n    type : 'SORT_DATA',\r\n    payload : sortBy\r\n})","export const setMaxPrice = maxPrice => ({\r\n    type : 'SET_MAX_PRICE',\r\n    payload : maxPrice\r\n})","export const setMinPrice = minPrice => ({\r\n    type : 'SET_MIN_PRICE',\r\n    payload : minPrice\r\n})","const initialState = {\r\n  data: null,\r\n};\r\n\r\nexport const data = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_DATA\":\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const initialState = {\r\n    sortBy : ''\r\n}\r\nexport const sort = (state = initialState,action) => {\r\n    switch(action.type) {\r\n        case 'SORT_DATA' : \r\n        return {\r\n            ...state,\r\n            sortBy : action.payload\r\n        }\r\n        default :\r\n        return state;\r\n    }\r\n}","const initialState = {\r\n    byMaxPrice : 55000\r\n}\r\nexport const maxPrice = (state = initialState,action) => {\r\n    switch(action.type) {\r\n        case 'SET_MAX_PRICE' : \r\n        return {\r\n            ...state,\r\n            byMaxPrice : +action.payload\r\n        }\r\n        default :\r\n        return state;\r\n    }\r\n}","const initialState = {\r\n  byMinPrice: null,\r\n};\r\nexport const minPrice = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_MIN_PRICE\":\r\n      return {\r\n        ...state,\r\n        byMinPrice: +action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { data } from \"./data\";\r\nimport { sort } from \"./sort\";\r\nimport { maxPrice } from \"./maxPrice\";\r\nimport { minPrice } from \"./minPrice\";\r\n\r\nconst { combineReducers } = require(\"redux\");\r\n\r\nexport const rootReducer = combineReducers({\r\n  data,\r\n  sort,\r\n  maxPrice,\r\n  minPrice,\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport logger from \"redux-logger\";\r\n\r\nimport { rootReducer } from \"./reducers\";\r\nexport const store = createStore(rootReducer, applyMiddleware(logger));\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./store\";\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App  />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}